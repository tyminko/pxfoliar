import{f as O}from"./dSAF17P9.js";import{Q as $,C as T,r as L,ae as U,G as a,J as W,af as F,o as V,d as m,e as p,h as f,f as C,R as o,ag as I,n as G,_ as P}from"./BUL0pw-4.js";import{u as Y}from"./BAu09OyF.js";import"./BISSul5e.js";const j=(i,e,s,...n)=>i[e]?$({...i,[e]:()=>O(i[e](),s?.unwrap||s?.mdcUnwrap)},e,s,...n):$(i,e,s,...n),J={key:0,class:"loading-indicator"},M=["src","srcset","sizes","width","height","alt","loading"],Q={key:0},h=300,k=.1,q=500,K=T({__name:"ContentImage",props:{src:{},alt:{},aspectRatio:{},width:{},height:{},maxW:{},maxH:{},crop:{type:Boolean},focus:{},loading:{},sizes:{},preset:{},provider:{},modifiers:{}},setup(i){const e=i,s=L(!1),n=L(!0),d=U("imgRef"),l=Y(),N=a(()=>e.provider??l.options.provider),g=a(()=>e.preset??l.options.presets?.default?.preset??"default"),v=a(()=>l.options.presets?.[g.value]?.sizes??"sm:100vw md:100vw lg:100vw"),w=a(()=>l.getSizes(e.src,{sizes:v.value,width:e.width,height:e.height,preset:g.value,provider:N.value})),_=a(()=>w.value.src),b=a(()=>w.value.srcset);W(_,()=>{s.value=!1,n.value=!0,F(S)});const x=a(()=>({"--trans-dur":`${h}ms`,"--placeholder-delay":`${h*k}ms`,"--loading-show-delay":`${q}ms`}));function A(){s.value=!0,setTimeout(()=>{n.value=!1},h*k)}V(()=>{S()});const c=a(()=>{const t=e.aspectRatio;if(!t||t==="auto")return e.width&&e.height?e.width/e.height:void 0;if(typeof t=="number")return t>0?t:void 0;const r=String(t).trim(),u=Number(r);if(Number.isFinite(u)&&u>0)return u;const E=r.replace(/\s+/g,"").toLowerCase().replace(/Ã—/g,"x"),[B,H]=E.split(/[/:x]/),y=parseFloat(B??""),R=parseFloat(H??"");if(!(!y||!R))return y/R}),D=a(()=>{if(e.sizes)return e.sizes;if(c.value){const t=z(e.maxW??"100vw"),r=z(e.maxH??"100vh");return`min(${t}, ${r} * ${c.value})`}return v.value});function z(t){return typeof t=="number"?`${t}px`:t}function S(){d.value?.complete&&d.value?.naturalWidth>0&&(s.value=!0)}return(t,r)=>(p(),m("figure",{style:I({"--ar":o(c),...o(x)})},[f("div",{class:G(["image-wrap",{"image-loaded":o(s),"show-placeholder":o(n)}])},[o(s)?C("",!0):(p(),m("div",J,[...r[0]||(r[0]=[f("span",{class:"dots"},null,-1)])])),f("img",{ref_key:"imgRef",ref:d,src:o(_),srcset:o(b),sizes:o(D),width:t.width,height:t.height,alt:t.alt,loading:t.loading,style:I({"--ar":o(c)}),onLoad:A},null,44,M)],2),t.$slots.default?(p(),m("figcaption",Q,[j(t.$slots,"default",{mdcUnwrap:"p"},void 0,!0)])):C("",!0)],4))}}),se=Object.assign(P(K,[["__scopeId","data-v-497e9989"]]),{__name:"ContentImage"});export{se as default};
